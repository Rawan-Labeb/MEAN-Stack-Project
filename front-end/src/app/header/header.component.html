<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm position-sticky top-0 zz" >
    <div class="container-fluid">
      <!-- Logo -->
      <a class="navbar-brand d-flex align-items-center" href="/home">
        <img 
          src="./../../assets/loading.png" 
          alt="Logo" 
          class="d-inline-block align-text-top me-2" 
          style="max-height: 40px;"
        />
        <span class="fw-bold fs-4">Fragrance Bar</span>
      </a>
      
  
      <!-- Toggle Button for Mobile -->
      <button 
        class="navbar-toggler border-0" 
        type="button" 
        data-bs-toggle="collapse" 
        data-bs-target="#navbarContent" 
        aria-controls="navbarContent" 
        aria-expanded="false" 
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
  
      <!-- Navbar Content -->
      <div class="collapse navbar-collapse" id="navbarContent">
        <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" routerLink="/home" routerLinkActive="active" 
            [class.selected]="selected === 'home'"             
            (click)="updateSelect('home')"
            >Home</a>
          </li> 
          <li class="nav-item">
            <a class="nav-link" routerLink="/catalog" routerLinkActive="active" 
            [class.selected]="selected === 'products'" 
            (click)="updateSelect('Products')"
            >Products</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/about" routerLinkActive="active" 
            [class.selected]="selected === 'about-us'" 
            (click)="updateSelect('about-us')"
            >About Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" routerLink="/contact" routerLinkActive="active" 
            [class.selected]="selected === 'contact-us'" 
            (click)="updateSelect('contact-us')"
            >Contact Us</a>
          </li>         
            
        </ul>
  
        <!-- User Dropdown -->
        <ul class="navbar-nav ms-auto">
          <li class="nav-item dropdown">
            <a 
              class="nav-link dropdown-toggle text-dark" 
              href="#" 
              id="userDropdown" 
              role="button" 
              data-bs-toggle="dropdown" 
              aria-expanded="false"
            >
              <i class="bi bi-person-circle fs-4 me-2"></i> 
              <span *ngIf="userFirstName">{{ userFirstName }}</span>
              <span *ngIf="!userFirstName">REGISTER</span>
            </a>
            <ul class="dropdown-menu dropdown-menu-end rounded-3 shadow-sm" aria-labelledby="userDropdown">
              <li *ngIf="userRole?.toLocaleLowerCase()  == 'customer'"><a class="dropdown-item" routerLink="/user/userprofile"><i class="bi bi-person me-2"></i> User Profile</a></li>
              <li *ngIf="userRole?.toLocaleLowerCase() == 'manager'"><a class="dropdown-item" routerLink="/admindashboard"><i class="bi bi-speedometer2 me-2"></i>Admin Dashboard</a></li>
              <li *ngIf="userRole?.toLocaleLowerCase() == 'casheir' || userRole?.toLocaleLowerCase() == 'clerk'"><a class="dropdown-item" routerLink="/casheir"><i class="bi bi-clock-history me-2"></i> History</a></li>
              <li *ngIf="userRole?.toLocaleLowerCase()  == 'seller'" ><a class="dropdown-item" routerLink="/sellerdashboard"><i class="bi bi-speedometer2 me-2"></i> Seller Dashboard</a></li>
              <!-- <li *ngIf="userRole?.toLocaleLowerCase()  == 'customer'"><a class="dropdown-item" routerLink="/user/userprofile"><i class="bi bi-clock-history me-2"></i> History</a></li> -->
              <li><hr class="dropdown-divider"></li>
              <li ><a class="dropdown-item" *ngIf="authSer.isAuthenticated()" (click)="LogOut()"><i class="bi bi-box-arrow-right me-2"></i> Logout</a></li>
              <li *ngIf="!(authSer.isAuthenticated())"><a class="dropdown-item" routerLink="/user/login"><i class="bi bi-box-arrow-right me-2"></i> login</a></li>
              <li *ngIf="!(authSer.isAuthenticated())"><a class="dropdown-item" routerLink="/user/register"><i class="bi bi-pencil-square me-2"></i> Register</a></li>
            </ul>
            
          </li>
  
          <!-- Cart Icon -->
          <li class="nav-item ms-3">
            <button 
              class="btn btn-outline-primary rounded-pill px-3 py-2 d-flex align-items-center" 
              type="button" 
              data-bs-toggle="offcanvas" 
              data-bs-target="#cartOffcanvas" 
              aria-controls="cartOffcanvas"
              routerLink="/cart"
            >
              <i class="bi bi-cart fs-4 me-2"></i> Cart <span class="badge bg-primary rounded-pill ms-2">{{ getCartItemCount() }}</span>
            </button>
          </li>



          <!-- <li class="nav-item ms-3">
            <button 
              class="btn btn-outline-primary rounded-pill px-3 py-2 d-flex align-items-center" 
              type="button" 
              data-bs-toggle="offcanvas" 
              data-bs-target="#cartOffcanvas" 
              aria-controls="cartOffcanvas"
              (click)="loadCart()"  
            >
              <i class="bi bi-cart fs-4 me-2"></i> Cart 
              <span class="badge bg-primary rounded-pill ms-2">{{ getCartItemCount() }}</span>
            </button>
          </li> -->
          
        </ul>
      </div>
    </div>
  </nav>
  
<!-- Offcanvas for Cart -->
